(this["webpackJsonpreact_dynamic-list-of-posts"]=this["webpackJsonpreact_dynamic-list-of-posts"]||[]).push([[0],{14:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(5),s=a.n(c),o=a(3),m=a.n(o),l=a(2),u=a(6),i=a(1),p=(a(14),a(7)),f=a.n(p),d="https://jsonplaceholder.typicode.com",E=function(e){var t=e.comment,a=t.name,n=t.body,c=t.email;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"comment"},r.a.createElement("p",{className:"author"},"\u0421omment author:\xa0",a),r.a.createElement("p",null,n),r.a.createElement("p",{className:"email"},"Email:\xa0",c)))},b=function(e){var t=e.comments;return r.a.createElement("article",{className:"comments"},"Comments:\xa0",t.map((function(e){return r.a.createElement(E,{comment:e,key:e.id})})))},h=function(e){var t=e.author,a=Object(l.a)({},t.address),n=a.city,c=a.zipcode,s=a.street,o=a.suite;return r.a.createElement("p",{className:"address"},"City:\xa0",n,", zipcode:\xa0",c,", street:\xa0",s,", suite:\xa0",o)},j=function(e){var t=e.author,a=e.comments;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"user_info"},r.a.createElement("h4",{className:"author"},"Author:\xa0",t.name),r.a.createElement("p",{className:"email"},"Email:\xa0",t.email)),r.a.createElement(h,{author:t}),r.a.createElement(b,{comments:a}))},v=function(e){var t=e.post;return r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"list"},r.a.createElement("li",{className:"list__userInfo"},r.a.createElement("h3",{className:"title"},t.title),r.a.createElement("p",{className:"body"},t.body),r.a.createElement(j,{author:t.author,comments:t.comments}))))},y=function(e){var t=e.posts;return r.a.createElement(r.a.Fragment,null,t.map((function(e){return r.a.createElement(v,{post:e,key:e.id})})))},N=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(!1),o=Object(i.a)(s,2),p=o[0],E=o[1],b=Object(n.useState)(!1),h=Object(i.a)(b,2),j=h[0],v=h[1],N=Object(n.useState)(""),O=Object(i.a)(N,2),g=O[0],k=O[1],C=Object(n.useState)("."),w=Object(i.a)(C,2),x=w[0],F=w[1],S=function(){var e=Object(u.a)(m.a.mark((function e(){var t,a,n,r,s,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),e.next=3,Promise.all([fetch("".concat(d,"/posts")).then((function(e){return e.json()})),fetch("".concat(d,"/users")).then((function(e){return e.json()})),fetch("".concat(d,"/comments")).then((function(e){return e.json()}))]);case 3:t=e.sent,a=Object(i.a)(t,3),n=a[0],r=a[1],s=a[2],o=n.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{comments:s.filter((function(t){return t.postId===e.id})),author:r.find((function(t){return t.id===e.userId}))})})),c(o),E(!1),v(!0),F("");case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=Object(n.useCallback)(f()(F,1e3),[]),I=Object(n.useMemo)((function(){return a.filter((function(e){return(e.title+e.body).toLowerCase().includes(g.toLowerCase())}))}),[x]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"display-5"},"Dynamic list of posts"),r.a.createElement("div",{className:"buttons"},!j&&r.a.createElement("button",{className:"btn btn-primary",disabled:p,type:"button",onClick:S},p?"Loading...":"Load"),j&&r.a.createElement("input",{type:"text",value:g,className:"form-control mrl",onChange:function(e){var t=e.target.value;k(t),_(t)}})),p&&r.a.createElement("div",{className:"spinner-border text-primary",role:"status"}),r.a.createElement("div",{className:"container"},r.a.createElement(y,{posts:I})))};s.a.render(r.a.createElement(N,null),document.getElementById("root"))},8:function(e,t,a){e.exports=a(16)}},[[8,1,2]]]);
//# sourceMappingURL=main.37d35db9.chunk.js.map